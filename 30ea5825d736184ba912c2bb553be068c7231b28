{
  "comments": [
    {
      "key": {
        "uuid": "fafc7978_ccf843c7",
        "filename": "docs/specs/ecmp-bgp-l3vpn.rst",
        "patchSetId": 6
      },
      "lineNbr": 19,
      "author": {
        "id": 7009
      },
      "writtenOn": "2017-01-23T16:50:35Z",
      "side": 1,
      "message": "Not sure if ECMP is the right term for this. RFC2991 states that \"Using equal-cost multipath means that if multiple equalcost routes to the same destination exist, they can be discovered and used to provide load balancing among redundant paths.\" The load balancing of traffic to different VMs is different, as the packets are not destined to the same destination. This use case is actually load balancing, not ECMP.",
      "range": {
        "startLine": 18,
        "startChar": 52,
        "endLine": 19,
        "endChar": 38
      },
      "revId": "30ea5825d736184ba912c2bb553be068c7231b28",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_dc88f2c8",
        "filename": "docs/specs/ecmp-bgp-l3vpn.rst",
        "patchSetId": 6
      },
      "lineNbr": 19,
      "author": {
        "id": 5278
      },
      "writtenOn": "2017-01-24T06:31:21Z",
      "side": 1,
      "message": "Actually ECMP is not applied for VMs. It is only for extra routes which can have multiple VMs as nexthops.\n\nExample:\nneutron router-update ROUTER1 --routes type\u003ddict list\u003dtrue destination\u003d120.0.0.0/24,nexthop\u003d40.1.1.2 destination\u003d120.0.0.0/24,nexthop\u003d40.1.1.3 destination\u003d121.0.0.0/24,nexthop\u003d40.1.1.2 destination\u003d121.0.0.0/24,nexthop\u003d40.1.1.3 destination\u003d121.0.0.0/24,nexthop\u003d40.1.1.4\n\n120.0.0.0/24 is having VMs 40.1.1.2 and 40.1.1.3 as nexthops.\n121.0.0.0/24 is having VMs 40.1.1.2, 40.1.1.3 and 40.1.1.4 as nexthops.",
      "parentUuid": "fafc7978_ccf843c7",
      "range": {
        "startLine": 18,
        "startChar": 52,
        "endLine": 19,
        "endChar": 38
      },
      "revId": "30ea5825d736184ba912c2bb553be068c7231b28",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_ecff07a9",
        "filename": "docs/specs/ecmp-bgp-l3vpn.rst",
        "patchSetId": 6
      },
      "lineNbr": 34,
      "author": {
        "id": 7009
      },
      "writtenOn": "2017-01-23T16:50:35Z",
      "side": 1,
      "message": "LB use case, not ECMP",
      "range": {
        "startLine": 33,
        "startChar": 0,
        "endLine": 34,
        "endChar": 73
      },
      "revId": "30ea5825d736184ba912c2bb553be068c7231b28",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_3cc13ee5",
        "filename": "docs/specs/ecmp-bgp-l3vpn.rst",
        "patchSetId": 6
      },
      "lineNbr": 34,
      "author": {
        "id": 5278
      },
      "writtenOn": "2017-01-24T06:31:21Z",
      "side": 1,
      "message": "Here I meant spraying traffic from DC-GW to multiple compute nodes if an extra route can be reachable from multiple VMs (each connected to different compute node).",
      "parentUuid": "fafc7978_ecff07a9",
      "range": {
        "startLine": 33,
        "startChar": 0,
        "endLine": 34,
        "endChar": 73
      },
      "revId": "30ea5825d736184ba912c2bb553be068c7231b28",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_9f20f54a",
        "filename": "docs/specs/ecmp-bgp-l3vpn.rst",
        "patchSetId": 6
      },
      "lineNbr": 34,
      "author": {
        "id": 5278
      },
      "writtenOn": "2017-02-01T07:57:56Z",
      "side": 1,
      "message": "Barak, As discussed over email, i have added some more content which explains this.",
      "parentUuid": "fafc7978_3cc13ee5",
      "range": {
        "startLine": 33,
        "startChar": 0,
        "endLine": 34,
        "endChar": 73
      },
      "revId": "30ea5825d736184ba912c2bb553be068c7231b28",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_17219a9f",
        "filename": "docs/specs/ecmp-bgp-l3vpn.rst",
        "patchSetId": 6
      },
      "lineNbr": 233,
      "author": {
        "id": 5802
      },
      "writtenOn": "2017-01-29T09:44:25Z",
      "side": 1,
      "message": "Note that I checked OF select group with watch_port property + BFD monitoring enabled in OVS 2.5 on VxLAN tunnel ports and tunnel port liveness monitoring is affected by the BFD status. As a result, OVS stopped sending traffic to buckets with BFD status down.\n\nIf you can assume BFD is enabled, letting OVS monitor the VxLAN buckets is preferred over ODL monitoring since it minimizes the amount of traffic loss and also keeps the models/implementation neat.",
      "range": {
        "startLine": 232,
        "startChar": 0,
        "endLine": 233,
        "endChar": 26
      },
      "revId": "30ea5825d736184ba912c2bb553be068c7231b28",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_7f1d510f",
        "filename": "docs/specs/ecmp-bgp-l3vpn.rst",
        "patchSetId": 6
      },
      "lineNbr": 233,
      "author": {
        "id": 5278
      },
      "writtenOn": "2017-02-01T07:57:56Z",
      "side": 1,
      "message": "Yes Tali, Updated the doc with this comment. Will test watch_port behavior in our setup and leverage watch_port if it works.",
      "parentUuid": "fafc7978_17219a9f",
      "range": {
        "startLine": 232,
        "startChar": 0,
        "endLine": 233,
        "endChar": 26
      },
      "revId": "30ea5825d736184ba912c2bb553be068c7231b28",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    }
  ]
}