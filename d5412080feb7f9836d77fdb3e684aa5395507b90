{
  "comments": [
    {
      "key": {
        "uuid": "e774b385_763f468f",
        "filename": "vpnservice/bgpmanager/bgpmanager-impl/pom.xml",
        "patchSetId": 4
      },
      "lineNbr": 78,
      "author": {
        "id": 4922
      },
      "writtenOn": "2018-01-19T09:35:48Z",
      "side": 1,
      "message": "use infrautils.version",
      "range": {
        "startLine": 78,
        "startChar": 6,
        "endLine": 78,
        "endChar": 39
      },
      "revId": "d5412080feb7f9836d77fdb3e684aa5395507b90",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9fe48115_79f91a0c",
        "filename": "vpnservice/bgpmanager/bgpmanager-impl/pom.xml",
        "patchSetId": 4
      },
      "lineNbr": 78,
      "author": {
        "id": 7935
      },
      "writtenOn": "2018-01-19T10:20:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e774b385_763f468f",
      "range": {
        "startLine": 78,
        "startChar": 6,
        "endLine": 78,
        "endChar": 39
      },
      "revId": "d5412080feb7f9836d77fdb3e684aa5395507b90",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "25d98117_abbf7907",
        "filename": "vpnservice/bgpmanager/bgpmanager-impl/src/main/java/org/opendaylight/netvirt/bgpmanager/oam/BgpConstants.java",
        "patchSetId": 4
      },
      "lineNbr": 27,
      "author": {
        "id": 4922
      },
      "writtenOn": "2018-01-19T09:35:48Z",
      "side": 1,
      "message": "this is not required..remove it..since there won\u0027t be application providing JMX MBean",
      "range": {
        "startLine": 27,
        "startChar": 3,
        "endLine": 27,
        "endChar": 64
      },
      "revId": "d5412080feb7f9836d77fdb3e684aa5395507b90",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "aca85e0a_901e331e",
        "filename": "vpnservice/bgpmanager/bgpmanager-impl/src/main/java/org/opendaylight/netvirt/bgpmanager/oam/BgpConstants.java",
        "patchSetId": 4
      },
      "lineNbr": 27,
      "author": {
        "id": 7935
      },
      "writtenOn": "2018-01-19T10:20:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "25d98117_abbf7907",
      "range": {
        "startLine": 27,
        "startChar": 3,
        "endLine": 27,
        "endChar": 64
      },
      "revId": "d5412080feb7f9836d77fdb3e684aa5395507b90",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "62f4a3fa_52aa7307",
        "filename": "vpnservice/bgpmanager/bgpmanager-impl/src/main/java/org/opendaylight/netvirt/bgpmanager/oam/BgpCounters.java",
        "patchSetId": 4
      },
      "lineNbr": 61,
      "author": {
        "id": 5867
      },
      "writtenOn": "2018-01-18T14:21:31Z",
      "side": 1,
      "message": "erm... I don\u0027t think this will work, does?  BgpCounters does not seem to be a Blueprint managed Bean, so @Inject does nothing here.  I think what you probably want do is add a private final MetricProvider metricProvider; in line 69, and set it in the constructor, and where there is a new BgpCounters pass the MetricProvider?  If that class is not a Blueprint managed Bean either, then you need to go up the call chain until the one that is, and then in there you can do @Inject @OsgiService for the MetricProvider.",
      "revId": "d5412080feb7f9836d77fdb3e684aa5395507b90",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "70767378_ebe44422",
        "filename": "vpnservice/bgpmanager/bgpmanager-impl/src/main/java/org/opendaylight/netvirt/bgpmanager/oam/BgpCounters.java",
        "patchSetId": 4
      },
      "lineNbr": 61,
      "author": {
        "id": 7935
      },
      "writtenOn": "2018-01-19T10:20:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "62f4a3fa_52aa7307",
      "revId": "d5412080feb7f9836d77fdb3e684aa5395507b90",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6fa0aefb_45a29e64",
        "filename": "vpnservice/bgpmanager/bgpmanager-impl/src/main/java/org/opendaylight/netvirt/bgpmanager/oam/BgpCounters.java",
        "patchSetId": 4
      },
      "lineNbr": 105,
      "author": {
        "id": 4922
      },
      "writtenOn": "2018-01-19T09:35:48Z",
      "side": 1,
      "message": "remove this method.This is not required and will pollute the logs.",
      "range": {
        "startLine": 101,
        "startChar": 3,
        "endLine": 105,
        "endChar": 5
      },
      "revId": "d5412080feb7f9836d77fdb3e684aa5395507b90",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5120d201_a8f77f82",
        "filename": "vpnservice/bgpmanager/bgpmanager-impl/src/main/java/org/opendaylight/netvirt/bgpmanager/oam/BgpCounters.java",
        "patchSetId": 4
      },
      "lineNbr": 105,
      "author": {
        "id": 7935
      },
      "writtenOn": "2018-01-19T10:20:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6fa0aefb_45a29e64",
      "range": {
        "startLine": 101,
        "startChar": 3,
        "endLine": 105,
        "endChar": 5
      },
      "revId": "d5412080feb7f9836d77fdb3e684aa5395507b90",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fd47e299_9ac17154",
        "filename": "vpnservice/bgpmanager/bgpmanager-impl/src/main/java/org/opendaylight/netvirt/bgpmanager/oam/BgpCounters.java",
        "patchSetId": 4
      },
      "lineNbr": 246,
      "author": {
        "id": 5867
      },
      "writtenOn": "2018-01-18T14:21:31Z",
      "side": 1,
      "message": "I\u0027m not a huge fan of these magic String encodings... let me sleep over if the Metrics API could not more explicitly support this somehow, and watch the same discussion on https://git.opendaylight.org/gerrit/#/c/67237/",
      "revId": "d5412080feb7f9836d77fdb3e684aa5395507b90",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "60450e2a_e31a7666",
        "filename": "vpnservice/bgpmanager/bgpmanager-impl/src/main/java/org/opendaylight/netvirt/bgpmanager/oam/BgpCounters.java",
        "patchSetId": 4
      },
      "lineNbr": 248,
      "author": {
        "id": 5867
      },
      "writtenOn": "2018-01-18T14:21:31Z",
      "side": 1,
      "message": "how about a helper method instead, like https://git.opendaylight.org/gerrit/#/c/67237/1..2/interfacemanager/interfacemanager-impl/src/main/java/org/opendaylight/genius/interfacemanager/IfmUtil.java ?",
      "revId": "d5412080feb7f9836d77fdb3e684aa5395507b90",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e6553ca2_0729988f",
        "filename": "vpnservice/bgpmanager/bgpmanager-impl/src/main/java/org/opendaylight/netvirt/bgpmanager/oam/BgpCounters.java",
        "patchSetId": 4
      },
      "lineNbr": 489,
      "author": {
        "id": 4922
      },
      "writtenOn": "2018-01-19T09:35:48Z",
      "side": 1,
      "message": "Remove this method, not needed",
      "range": {
        "startLine": 487,
        "startChar": 3,
        "endLine": 489,
        "endChar": 5
      },
      "revId": "d5412080feb7f9836d77fdb3e684aa5395507b90",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b2cbfe17_0b000008",
        "filename": "vpnservice/bgpmanager/bgpmanager-impl/src/main/java/org/opendaylight/netvirt/bgpmanager/oam/BgpCounters.java",
        "patchSetId": 4
      },
      "lineNbr": 489,
      "author": {
        "id": 7935
      },
      "writtenOn": "2018-01-19T10:20:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e6553ca2_0729988f",
      "range": {
        "startLine": 487,
        "startChar": 3,
        "endLine": 489,
        "endChar": 5
      },
      "revId": "d5412080feb7f9836d77fdb3e684aa5395507b90",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "51757da6_50057e56",
        "filename": "vpnservice/bgpmanager/bgpmanager-impl/src/main/java/org/opendaylight/netvirt/bgpmanager/oam/BgpCounters.java",
        "patchSetId": 4
      },
      "lineNbr": 491,
      "author": {
        "id": 4922
      },
      "writtenOn": "2018-01-19T09:35:48Z",
      "side": 1,
      "message": "/* should be /** JavaDoc",
      "range": {
        "startLine": 491,
        "startChar": 4,
        "endLine": 491,
        "endChar": 6
      },
      "revId": "d5412080feb7f9836d77fdb3e684aa5395507b90",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7634659d_2bafd37c",
        "filename": "vpnservice/bgpmanager/bgpmanager-impl/src/main/java/org/opendaylight/netvirt/bgpmanager/oam/BgpCounters.java",
        "patchSetId": 4
      },
      "lineNbr": 491,
      "author": {
        "id": 7935
      },
      "writtenOn": "2018-01-19T10:20:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "51757da6_50057e56",
      "range": {
        "startLine": 491,
        "startChar": 4,
        "endLine": 491,
        "endChar": 6
      },
      "revId": "d5412080feb7f9836d77fdb3e684aa5395507b90",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "70545fd3_08eee912",
        "filename": "vpnservice/bgpmanager/bgpmanager-impl/src/main/java/org/opendaylight/netvirt/bgpmanager/oam/BgpCounters.java",
        "patchSetId": 4
      },
      "lineNbr": 506,
      "author": {
        "id": 5867
      },
      "writtenOn": "2018-01-18T14:21:31Z",
      "side": 1,
      "message": "This is interesting... if you normally only ever increment, then this really is a Meter and not a Counter, see https://git.opendaylight.org/gerrit/#/c/67017/, and shows that we should probably have a clear() method on Meter for a clearer more explicit metric API.. would you like to make a contribution to infrautils adding that?",
      "revId": "d5412080feb7f9836d77fdb3e684aa5395507b90",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5066b2e0_2575b43f",
        "filename": "vpnservice/bgpmanager/bgpmanager-impl/src/main/java/org/opendaylight/netvirt/bgpmanager/oam/BgpCounters.java",
        "patchSetId": 4
      },
      "lineNbr": 506,
      "author": {
        "id": 7865
      },
      "writtenOn": "2018-01-19T11:30:17Z",
      "side": 1,
      "message": "Hi Michael,\n\nI do not think Meter could be an exact fit though it has a getCount to find current mark-level. This is mainly because, Meter\u0027s overall contract is to provide throughput output - ie.getXXMinuteRate and getMeanRate. In order to compute the rates (which is a promised contract of Meter), its implementation can have internal rate-measuring mechanism which could be a overhead in this context. Since Counter is not obliged to build any such additional capability, relative overhead would be lesser than Meter and hence the choice. \n\nOf course, there is one possibility to create something like \"SettableCounter\" or encapsulate this zeroization/clear/reset in infrautils\u0027 org.opendaylight.infrautils.metrics.Counter which can hide this logic in one common place so that we can prevent DRY at application level",
      "parentUuid": "70545fd3_08eee912",
      "revId": "d5412080feb7f9836d77fdb3e684aa5395507b90",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f53fb807_b26dd00b",
        "filename": "vpnservice/bgpmanager/bgpmanager-impl/src/main/java/org/opendaylight/netvirt/bgpmanager/oam/BgpCounters.java",
        "patchSetId": 4
      },
      "lineNbr": 506,
      "author": {
        "id": 5867
      },
      "writtenOn": "2018-01-25T17:20:18Z",
      "side": 1,
      "message": "Yeah. But based on https://lists.opendaylight.org/pipermail/infrautils-dev/2018-January/000568.html, I now I understand this better, I admit I had not really noticed / paid proper attention to the final line 515 with counter.increment(counterValue); so I\u0027m wondering if this shouldn\u0027t just be counter.increment(counterValue - counter.get()); kind of thing instead?",
      "parentUuid": "5066b2e0_2575b43f",
      "revId": "d5412080feb7f9836d77fdb3e684aa5395507b90",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "56bfcaf5_5a2d6d4d",
        "filename": "vpnservice/bgpmanager/bgpmanager-impl/src/main/java/org/opendaylight/netvirt/bgpmanager/oam/BgpCounters.java",
        "patchSetId": 4
      },
      "lineNbr": 506,
      "author": {
        "id": 7935
      },
      "writtenOn": "2018-01-25T17:48:10Z",
      "side": 1,
      "message": "if we do counter.increment(counterValue - counter.get()) then there is a possibility of getting negative value if counter.get() has the greater value than new counterValue.\n\nI\u0027m resetting the Counter by doing counter.decrement(counter.get()); and adding fresh counterValue by doing counter.increment(counterValue).",
      "parentUuid": "f53fb807_b26dd00b",
      "revId": "d5412080feb7f9836d77fdb3e684aa5395507b90",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    }
  ]
}