{
  "comments": [
    {
      "key": {
        "uuid": "fafc7978_fd33b011",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 13,
      "author": {
        "id": 5492
      },
      "writtenOn": "2017-02-21T14:04:12Z",
      "side": 1,
      "message": "L3 communication on VLAN networks will use the source VM MacAddress directly in a routed packet right?",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_1e9139f1",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 13,
      "author": {
        "id": 6365
      },
      "writtenOn": "2017-02-26T12:12:07Z",
      "side": 1,
      "message": "In the case of external networks, VM instances traffic will be NATed, and will use the MAC of the FIP/NAPT mechanism.\n\nIn the use case of two private networks, we will use the router interface mac.",
      "parentUuid": "fafc7978_fd33b011",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_b5911849",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 13,
      "author": {
        "id": 5492
      },
      "writtenOn": "2017-03-01T07:54:00Z",
      "side": 1,
      "message": "For the two private networks case you have quoted router-interface-mac will be used.  I believe we cannot use router interface Macs on VLAN nettworks for routing as this will create underlay switch mac-table thrashing.\n\nPlease revisit this !",
      "parentUuid": "fafc7978_1e9139f1",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_26221c52",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 13,
      "author": {
        "id": 6365
      },
      "writtenOn": "2017-03-01T15:00:49Z",
      "side": 1,
      "message": "Yes you are right. In this use-case we won\u0027t change the src MAC of the packet. This will be a limitation until DVR will be implemented and we will have src MAC per hypervisor.\nI\u0027ll update the spec.",
      "parentUuid": "fafc7978_b5911849",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_dd1fcc6a",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 18,
      "author": {
        "id": 5492
      },
      "writtenOn": "2017-02-21T14:04:12Z",
      "side": 1,
      "message": "In this Spec, wherever you are mentioning VLAN provider network, I will take it that you are referring to external VLAN provider network. Is that ok?",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_5e65811c",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 18,
      "author": {
        "id": 6365
      },
      "writtenOn": "2017-02-26T12:12:07Z",
      "side": 1,
      "message": "After talking with several people, I haven\u0027t found a unified terminology for all cases. In the scope of this spec, PNF are always in a provider network, but there are two main use-cases.\n\n1. VM instance traffic need to go through NAT mechanism to reach the PNF (this is the case when VM instance is in a \"private\" network and the PNF is in \"external\" network.\n2. VM instance traffic doesn\u0027t need to go through NAT mechanism (this is the case when and PNF IP belongs to a subnet of a \"private\" network).",
      "parentUuid": "fafc7978_dd1fcc6a",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_b57bd8f3",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 18,
      "author": {
        "id": 5492
      },
      "writtenOn": "2017-03-01T07:54:00Z",
      "side": 1,
      "message": "Ok.. For the first case, the source MAC Address that will be used as source on the external network side (i.e., after NATing) will be the routers-gateway-mac-address.   The destination MAC Address will be that of PNF itself.\n\nFor the second case, since we are talking L3 here, what will be the source MAC Address in the packet from the VM to the PNF?  It will be the source VMs mac-address itself right? If the source mac-address is intended here to be the router-interface-mac addresse, then that will result in underlay mac-table thrrashing.\nSimilarly in this second case the destination mac address will be that of PNF itself.",
      "parentUuid": "fafc7978_5e65811c",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_46c3e056",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 18,
      "author": {
        "id": 6365
      },
      "writtenOn": "2017-03-01T15:00:49Z",
      "side": 1,
      "message": "You are right, in the second case we won\u0027t change the src MAC, as commented in an earlier comment.",
      "parentUuid": "fafc7978_b57bd8f3",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_7d27c0ca",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 21,
      "author": {
        "id": 5492
      },
      "writtenOn": "2017-02-21T14:04:12Z",
      "side": 1,
      "message": "can you please clarify this addition hop (on why that is required).. Access from VM on internal network to PNF on external network can also be done through the router-gateway itself right (after NATing) without the packet hitting the external-subnet-gateway itself right?",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_be758dcc",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 21,
      "author": {
        "id": 6365
      },
      "writtenOn": "2017-02-26T12:12:07Z",
      "side": 1,
      "message": "As far as I know, today in the code, all traffic of a VM instance, after NAT mechanism, is forwarded (via a provider network group) directly to an external-gateway. This is the additional hop that I\u0027m referring to.\n\nThis is not a requirement, this is the current state, which I want to change.",
      "parentUuid": "fafc7978_7d27c0ca",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_55726c11",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 21,
      "author": {
        "id": 5492
      },
      "writtenOn": "2017-03-01T07:54:00Z",
      "side": 1,
      "message": "So what you want to do is that after NATing, the packet will be directly punted to the right PNF if that PNF is on the same external subnet?  That\u0027s ok !",
      "parentUuid": "fafc7978_be758dcc",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_86a8288e",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 21,
      "author": {
        "id": 6365
      },
      "writtenOn": "2017-03-01T15:00:49Z",
      "side": 1,
      "message": ":)",
      "parentUuid": "fafc7978_55726c11",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_80f010ff",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 51,
      "author": {
        "id": 5492
      },
      "writtenOn": "2017-03-01T10:12:45Z",
      "side": 1,
      "message": "you can mention here that we are using source mac and source ip only from the ARP Response and not from the initially punted IP Packet.",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_00da60e7",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 79,
      "author": {
        "id": 5492
      },
      "writtenOn": "2017-03-01T10:12:45Z",
      "side": 1,
      "message": "here when you say direct all further traffic towards PNF: It means setting the dest-mac-address in packet to PNF MAC and then sending the traffic to provider-port on the packet originating OVS right?",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_e6a93491",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 79,
      "author": {
        "id": 6365
      },
      "writtenOn": "2017-03-01T15:00:49Z",
      "side": 1,
      "message": "Correct.",
      "parentUuid": "fafc7978_00da60e7",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_40e0e895",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 81,
      "author": {
        "id": 5492
      },
      "writtenOn": "2017-03-01T10:12:45Z",
      "side": 1,
      "message": "This is not available today, so it looks like this feature will add this functionality!  Thank you :)",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_2697bc49",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 81,
      "author": {
        "id": 6365
      },
      "writtenOn": "2017-03-01T15:00:49Z",
      "side": 1,
      "message": ":)",
      "parentUuid": "fafc7978_40e0e895",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_1d483486",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 83,
      "author": {
        "id": 4534
      },
      "writtenOn": "2017-02-21T13:35:29Z",
      "side": 1,
      "message": "2 usecases here - FIP and pnf are in the same subnet, and FIP and pnf are in different subnets. if fip and pnf are in the same subnet, then the vswitch hosting the fip can directly respond to arp requests for the fip, and vice versa. for 2nd case, if there is an external g/w router for this external or provider network, should we not let the external g/w router do this forwarding, instead of directly sending pkts to the pnf via distributed forwarding? there could be policies configured on the external g/w that we would bypass, and cause undesired consequences",
      "range": {
        "startLine": 83,
        "startChar": 74,
        "endLine": 83,
        "endChar": 75
      },
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_be5c6d4c",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 83,
      "author": {
        "id": 6365
      },
      "writtenOn": "2017-02-26T12:12:07Z",
      "side": 1,
      "message": "Yes. In the first usecase you are referring to, the vswitch can response directly to ARP requests for the FIP.\n\nThis spec addresses the case when the FIP and the PNF are in the same subnet. For different subnets we still want to go through an external gateway.",
      "parentUuid": "fafc7978_1d483486",
      "range": {
        "startLine": 83,
        "startChar": 74,
        "endLine": 83,
        "endChar": 75
      },
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_1845e216",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 95,
      "author": {
        "id": 5492
      },
      "writtenOn": "2017-02-21T14:04:12Z",
      "side": 1,
      "message": "this is to enable floating-ips on computes to directly reach the PNFs right ie., (FloatingIP to PNF connectivity).\n\nSimilarly When an ARP request from a PNF comes towards a Floating-IP, the response would be directly from the ARPResponder table of the hypervisor holding the Floating-IP right?",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_fe527533",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 95,
      "author": {
        "id": 6365
      },
      "writtenOn": "2017-02-26T12:12:07Z",
      "side": 1,
      "message": "Yes.",
      "parentUuid": "fafc7978_1845e216",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_18804245",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 100,
      "author": {
        "id": 5492
      },
      "writtenOn": "2017-02-21T14:04:12Z",
      "side": 1,
      "message": "here can i assume both these tenant networks are only VLAN Type?",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_5e33c113",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 100,
      "author": {
        "id": 6365
      },
      "writtenOn": "2017-02-26T12:12:07Z",
      "side": 1,
      "message": "It\u0027s safe to assume that.",
      "parentUuid": "fafc7978_18804245",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_d806ba1c",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 104,
      "author": {
        "id": 5492
      },
      "writtenOn": "2017-02-21T14:04:12Z",
      "side": 1,
      "message": "This designated switch may or may not be the NAPTSwitch of the router itself right?\n\nFurther is there a criteria for selecting the designated switch?",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_5e1aa17d",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 104,
      "author": {
        "id": 6365
      },
      "writtenOn": "2017-02-26T12:12:07Z",
      "side": 1,
      "message": "Yes.\nFor external networks we will use the already implemented mechanism of NAPT switch.\nFor private networks, we can use the existing mechanism in the subnet-router feature, that chooses a \"next-hop DPN\" per subnet, as long as there is one designated DPN per subnet.\n\nLater we can think about a smarter implementation for addressing load-balancing issues",
      "parentUuid": "fafc7978_d806ba1c",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_e0b47c83",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 104,
      "author": {
        "id": 5492
      },
      "writtenOn": "2017-03-01T10:12:45Z",
      "side": 1,
      "message": "Actually I feel that in your implementation, you can always choose an NAPTSwitch (even before router-gateway-set) and use that same NAPTSwitch for both the 2 use-cases as the central subnetroute holder (and punter).  WDYT?",
      "parentUuid": "fafc7978_5e1aa17d",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_0688b8c3",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 104,
      "author": {
        "id": 6365
      },
      "writtenOn": "2017-03-01T15:00:49Z",
      "side": 1,
      "message": "NAPTSwitch is one per router, but \"next hop DPN\" in subnet-route feature is one per subnet.\nFrom a performance point of view, switch per subnet is preferred.\n\nDo you see any advantage in using the switch per router approach?",
      "parentUuid": "fafc7978_e0b47c83",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_58676ae9",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 115,
      "author": {
        "id": 5492
      },
      "writtenOn": "2017-02-21T14:04:12Z",
      "side": 1,
      "message": "the ARP Responder flow will be just for the router-interface-ip-address right?",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_c1119053",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 115,
      "author": {
        "id": 6365
      },
      "writtenOn": "2017-02-26T12:12:07Z",
      "side": 1,
      "message": "Right.",
      "parentUuid": "fafc7978_58676ae9",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_02028f6e",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 116,
      "author": {
        "id": 4534
      },
      "writtenOn": "2017-02-21T13:35:29Z",
      "side": 1,
      "message": "if there are underlay switches, we would see mac moves, if we re-use the router mac in arp replies, from designated switch. to me, we have 2 options -\n1. centralized forwarding through napt switch for datapath with single router mac\n2. implement distributed l3 fwding over vlan provider networks. this would probably need use of per-compute macs, as well as per switch learning instead of centralized learning (similar to what we did for l2)\n\nonce #2 is solved, it should automatically carry over for support of pnfs since learning is inherently supported by the l3 service using features listed above.",
      "range": {
        "startLine": 116,
        "startChar": 71,
        "endLine": 116,
        "endChar": 74
      },
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_812308a6",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 116,
      "author": {
        "id": 6365
      },
      "writtenOn": "2017-02-26T12:12:07Z",
      "side": 1,
      "message": "Today there are no ARP responder rules for router interface IP requests that are arriving from provider networks. This change will introduce an ARP responder rule, on a (single) designated switch.\n\nCan you please elaborate on why this will cause a mac movement?",
      "parentUuid": "fafc7978_02028f6e",
      "range": {
        "startLine": 116,
        "startChar": 71,
        "endLine": 116,
        "endChar": 74
      },
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_1824c2ad",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 117,
      "author": {
        "id": 5492
      },
      "writtenOn": "2017-02-21T14:04:12Z",
      "side": 1,
      "message": "this will be the internal router interface MAC for the subnet on which the PNF resides right?",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_9e10895a",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 117,
      "author": {
        "id": 6365
      },
      "writtenOn": "2017-02-26T12:12:07Z",
      "side": 1,
      "message": "Right.",
      "parentUuid": "fafc7978_1824c2ad",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_200e843b",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 121,
      "author": {
        "id": 5492
      },
      "writtenOn": "2017-03-01T10:12:45Z",
      "side": 1,
      "message": "I think only for the initial packets (initiated either way before PNF Discovery - ie., both packet initiation from PNF, or packet initiation towards PNF) the relaying of the packets through the designated switch is necessary.  After the FIB Flows are installed, it becomes distributed l3 forwarding, but of course we should not use router-interface-ip-address ever in the source-ip-address fields of the IP Packets exchanged.  Is that right?",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_e63934f3",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 121,
      "author": {
        "id": 6365
      },
      "writtenOn": "2017-03-01T15:00:49Z",
      "side": 1,
      "message": "The distributed L3 forwarding is only one way, from VM instance to PNF.\nPNF traffic is sent (always) to one hypervisor (the designated switch, which has the router_interface responder rule).\nIn the future when we\u0027ll have a MAC per hypervisor, we can change this behavior to allow distributed forwarding in both directions.",
      "parentUuid": "fafc7978_200e843b",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_58ae4ae7",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 130,
      "author": {
        "id": 5492
      },
      "writtenOn": "2017-02-21T14:04:12Z",
      "side": 1,
      "message": "great, this clarifies that for use-case 1 where the PNF will be on external VLAN provider network, the NAPTSwitch will be used as the designated switch.\n\nFor the second use-case though (vm to pnf on two different tenant networks), can you put criteria for selection of designated switch?",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_e13bf4ce",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 130,
      "author": {
        "id": 6365
      },
      "writtenOn": "2017-02-26T12:12:07Z",
      "side": 1,
      "message": "Please see earlier comment",
      "parentUuid": "fafc7978_58ae4ae7",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_5b1bbd72",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 250,
      "author": {
        "id": 5492
      },
      "writtenOn": "2017-03-01T10:15:29Z",
      "side": 1,
      "message": "You may want to add one more case here:\n\nIngress traffic to a FloatingIP from a PNF on teh provider network.",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_2104c648",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 250,
      "author": {
        "id": 6365
      },
      "writtenOn": "2017-03-01T15:00:49Z",
      "side": 1,
      "message": "Sure, I\u0027ll add it.",
      "parentUuid": "fafc7978_5b1bbd72",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_b8e5b639",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 256,
      "author": {
        "id": 5492
      },
      "writtenOn": "2017-02-21T14:04:12Z",
      "side": 1,
      "message": "will vpnId !\u003d externalNetworkId would work?",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_e16934bf",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 256,
      "author": {
        "id": 6365
      },
      "writtenOn": "2017-02-26T12:12:07Z",
      "side": 1,
      "message": "This may work if in the BGPVPN use-case, the vpnId is neither the routerID nor the external network id.",
      "parentUuid": "fafc7978_b8e5b639",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_d5d49cbe",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 270,
      "author": {
        "id": 5492
      },
      "writtenOn": "2017-03-01T07:54:00Z",
      "side": 1,
      "message": "rd and vpn-instance-name is the same value for an external-network-id based vpnInstance.  \nSo why do you need this additional external-vpn field?",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fafc7978_c1d4dabe",
        "filename": "docs/specs/discovery_of_directly_connected_pnfs.rst",
        "patchSetId": 12
      },
      "lineNbr": 270,
      "author": {
        "id": 6365
      },
      "writtenOn": "2017-03-01T15:00:49Z",
      "side": 1,
      "message": "I need to distingush between BGPVPN and internal VPN when a subnetmap is created (in neturonvpn), which is earlier then \nthe creation of odl-l3vpn based models (vpn-id-to-vpn-instance and vpn-instance-to-vpn-id).\n\nAfter reviewing my yang model again, I came to a conclusion that this yang change will not fix my problem, as this model created after subnetmap also.",
      "parentUuid": "fafc7978_d5d49cbe",
      "revId": "047183761d9161cab5cb8a235f210e8cdd3a854b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    }
  ]
}