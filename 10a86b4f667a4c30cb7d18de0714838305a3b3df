{
  "comments": [
    {
      "key": {
        "uuid": "260fcd39_b94378ab",
        "filename": "vpnservice/aclservice/impl/src/main/java/org/opendaylight/netvirt/aclservice/StatefulEgressAclServiceImpl.java",
        "patchSetId": 16
      },
      "lineNbr": 98,
      "author": {
        "id": 4269
      },
      "writtenOn": "2017-12-13T12:40:05Z",
      "side": 1,
      "message": "do we need the acl key here ? or was this not added for a reason.\n\nWith default SG , when the SG is removed , I see only one drop  rules  programmed either the ipv4 or ipv6 but not both.",
      "revId": "10a86b4f667a4c30cb7d18de0714838305a3b3df",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "148f081a_ea3c0b5c",
        "filename": "vpnservice/aclservice/impl/src/main/java/org/opendaylight/netvirt/aclservice/StatefulEgressAclServiceImpl.java",
        "patchSetId": 16
      },
      "lineNbr": 98,
      "author": {
        "id": 4269
      },
      "writtenOn": "2017-12-19T07:40:21Z",
      "side": 1,
      "message": "Ok, that should be fine.",
      "parentUuid": "ecf44ce1_3dc328ec",
      "revId": "10a86b4f667a4c30cb7d18de0714838305a3b3df",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ecf44ce1_3dc328ec",
        "filename": "vpnservice/aclservice/impl/src/main/java/org/opendaylight/netvirt/aclservice/StatefulEgressAclServiceImpl.java",
        "patchSetId": 16
      },
      "lineNbr": 98,
      "author": {
        "id": 7876
      },
      "writtenOn": "2019-08-26T20:33:32Z",
      "side": 1,
      "message": "If we add acl key here, the problem will occur when we restore the same SG rule again. Because acl key of new SG rule will be different and the drop flow will not be deleted. So, I have removed the acl key from the flow name.\n\nTo avoid ipv4 and ipv6 conflict , we will add the acl version with the flow name.",
      "parentUuid": "260fcd39_b94378ab",
      "revId": "10a86b4f667a4c30cb7d18de0714838305a3b3df",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "08295273_6389fec7",
        "filename": "vpnservice/aclservice/impl/src/main/java/org/opendaylight/netvirt/aclservice/StatefulEgressAclServiceImpl.java",
        "patchSetId": 16
      },
      "lineNbr": 98,
      "author": {
        "id": 7876
      },
      "writtenOn": "2019-08-26T20:33:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "148f081a_ea3c0b5c",
      "revId": "10a86b4f667a4c30cb7d18de0714838305a3b3df",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "03409c48_e66c791f",
        "filename": "vpnservice/aclservice/impl/src/main/java/org/opendaylight/netvirt/aclservice/StatefulEgressAclServiceImpl.java",
        "patchSetId": 16
      },
      "lineNbr": 117,
      "author": {
        "id": 4269
      },
      "writtenOn": "2017-12-13T12:40:05Z",
      "side": 1,
      "message": "Hardtime out would be better as idle timeout can lead to the flows never being deleted.",
      "revId": "10a86b4f667a4c30cb7d18de0714838305a3b3df",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e3d969d_702d25f2",
        "filename": "vpnservice/aclservice/impl/src/main/java/org/opendaylight/netvirt/aclservice/StatefulEgressAclServiceImpl.java",
        "patchSetId": 16
      },
      "lineNbr": 117,
      "author": {
        "id": 4269
      },
      "writtenOn": "2017-12-19T07:40:21Z",
      "side": 1,
      "message": "The conntrack entry times out much fast(if no other allow rule is present), and the current default timeout values should be sufficiently large. \n\nWith idle timeout if there is an existing connection say ping, and there is a second SG allows ICMP, these rules never timeout though are allowing the traffic.",
      "parentUuid": "a65ca557_53989b64",
      "revId": "10a86b4f667a4c30cb7d18de0714838305a3b3df",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e0e89bb_7fea3d2b",
        "filename": "vpnservice/aclservice/impl/src/main/java/org/opendaylight/netvirt/aclservice/StatefulEgressAclServiceImpl.java",
        "patchSetId": 16
      },
      "lineNbr": 117,
      "author": {
        "id": 7876
      },
      "writtenOn": "2019-08-26T20:33:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c883d085_921be386",
      "revId": "10a86b4f667a4c30cb7d18de0714838305a3b3df",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c883d085_921be386",
        "filename": "vpnservice/aclservice/impl/src/main/java/org/opendaylight/netvirt/aclservice/StatefulEgressAclServiceImpl.java",
        "patchSetId": 16
      },
      "lineNbr": 117,
      "author": {
        "id": 7876
      },
      "writtenOn": "2019-08-26T20:33:32Z",
      "side": 1,
      "message": "Okay.. I will change to hardTimeout",
      "parentUuid": "4e3d969d_702d25f2",
      "revId": "10a86b4f667a4c30cb7d18de0714838305a3b3df",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a65ca557_53989b64",
        "filename": "vpnservice/aclservice/impl/src/main/java/org/opendaylight/netvirt/aclservice/StatefulEgressAclServiceImpl.java",
        "patchSetId": 16
      },
      "lineNbr": 117,
      "author": {
        "id": 7876
      },
      "writtenOn": "2019-08-26T20:33:32Z",
      "side": 1,
      "message": "If we have hardtimeout, the traffic will not work until hardtimeout reached. after the hardtimeout completed, the existing traffic will be resumed irrespective of flow availability in  table 213/243.",
      "parentUuid": "03409c48_e66c791f",
      "revId": "10a86b4f667a4c30cb7d18de0714838305a3b3df",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "debf53ca_f41b04f4",
        "filename": "vpnservice/aclservice/impl/src/main/java/org/opendaylight/netvirt/aclservice/StatefulEgressAclServiceImpl.java",
        "patchSetId": 16
      },
      "lineNbr": 119,
      "author": {
        "id": 4269
      },
      "writtenOn": "2017-12-13T12:53:34Z",
      "side": 1,
      "message": "These needs to be programmed only for a SG update and not for a port delete else it will lead to stale flows given the timeout is large.",
      "revId": "10a86b4f667a4c30cb7d18de0714838305a3b3df",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "03ebfebe_65fddcde",
        "filename": "vpnservice/aclservice/impl/src/main/java/org/opendaylight/netvirt/aclservice/StatefulEgressAclServiceImpl.java",
        "patchSetId": 16
      },
      "lineNbr": 119,
      "author": {
        "id": 4269
      },
      "writtenOn": "2017-12-19T07:40:21Z",
      "side": 1,
      "message": "The expectation is to be clear the rules related to a port on  delete. The left over flows will never hit and given the TCP flows a have large time out, this may not be a good idea. Making the addOrRemove to carry a flag for update should solve the issue?",
      "parentUuid": "046caeca_68353ab3",
      "revId": "10a86b4f667a4c30cb7d18de0714838305a3b3df",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ad52cda2_9ebefda0",
        "filename": "vpnservice/aclservice/impl/src/main/java/org/opendaylight/netvirt/aclservice/StatefulEgressAclServiceImpl.java",
        "patchSetId": 16
      },
      "lineNbr": 119,
      "author": {
        "id": 4269
      },
      "writtenOn": "2017-12-19T11:00:21Z",
      "side": 1,
      "message": "We have one more option MOD_FLOW in NwConstants. Can we use that in the case of update and if update is the case we can add the drop rules?\n\npublic static final int MOD_FLOW \u003d 2",
      "parentUuid": "bdd035b0_af256580",
      "revId": "10a86b4f667a4c30cb7d18de0714838305a3b3df",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ca23058_1c75e9ea",
        "filename": "vpnservice/aclservice/impl/src/main/java/org/opendaylight/netvirt/aclservice/StatefulEgressAclServiceImpl.java",
        "patchSetId": 16
      },
      "lineNbr": 119,
      "author": {
        "id": 4269
      },
      "writtenOn": "2017-12-19T11:18:30Z",
      "side": 1,
      "message": "ya that\u0027s right. I think it should work.",
      "parentUuid": "cbc0f52e_f0eb5e8f",
      "revId": "10a86b4f667a4c30cb7d18de0714838305a3b3df",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "046caeca_68353ab3",
        "filename": "vpnservice/aclservice/impl/src/main/java/org/opendaylight/netvirt/aclservice/StatefulEgressAclServiceImpl.java",
        "patchSetId": 16
      },
      "lineNbr": 119,
      "author": {
        "id": 7876
      },
      "writtenOn": "2019-08-26T20:33:32Z",
      "side": 1,
      "message": "The check has been added to check whether we have to add or delete the flow in the table 212/242.\nWhile,\nDeleting SG flow \u003e Add the new flow in 212/242  ( To pause the existing traffic)\nAdding SG flow  \u003e Delete the new flow in 212/242 ( To resume the existing traffic)\n\nEven in port delete if we add a new flow in 212/242, the flow will be deleted after the timeout reached. So, flow will not be retained in the flow table.",
      "parentUuid": "debf53ca_f41b04f4",
      "revId": "10a86b4f667a4c30cb7d18de0714838305a3b3df",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bdd035b0_af256580",
        "filename": "vpnservice/aclservice/impl/src/main/java/org/opendaylight/netvirt/aclservice/StatefulEgressAclServiceImpl.java",
        "patchSetId": 16
      },
      "lineNbr": 119,
      "author": {
        "id": 7876
      },
      "writtenOn": "2019-08-26T20:33:32Z",
      "side": 1,
      "message": "Here, addOrRemove flag indicates the addition/deletion of SG rule from the SG. When we delete a SG rule from the SG, this method will trigger to remove the flow.\n\nThis method will be triggered by two ways,\n1. Flow addition/deletion\n2. Port addition/Deletion\n\nWe have to add one more parameter to identify whether the request is port deletion or not.\n\nShall i proceed this way?",
      "parentUuid": "03ebfebe_65fddcde",
      "revId": "10a86b4f667a4c30cb7d18de0714838305a3b3df",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fc5991d0_e5c4abae",
        "filename": "vpnservice/aclservice/impl/src/main/java/org/opendaylight/netvirt/aclservice/StatefulEgressAclServiceImpl.java",
        "patchSetId": 16
      },
      "lineNbr": 119,
      "author": {
        "id": 7876
      },
      "writtenOn": "2019-08-26T20:33:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3ca23058_1c75e9ea",
      "revId": "10a86b4f667a4c30cb7d18de0714838305a3b3df",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cbc0f52e_f0eb5e8f",
        "filename": "vpnservice/aclservice/impl/src/main/java/org/opendaylight/netvirt/aclservice/StatefulEgressAclServiceImpl.java",
        "patchSetId": 16
      },
      "lineNbr": 119,
      "author": {
        "id": 7876
      },
      "writtenOn": "2019-08-26T20:33:32Z",
      "side": 1,
      "message": "i.e.,\nAdd_FLOW for adding rule to SG \u0026 port addition request\nMOD_Flow for deleting rule from SG request\nDEL_Flow for port delete request\n\nAm i correct?",
      "parentUuid": "ad52cda2_9ebefda0",
      "revId": "10a86b4f667a4c30cb7d18de0714838305a3b3df",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c744e0a6_cf4ce904",
        "filename": "vpnservice/aclservice/impl/src/main/java/org/opendaylight/netvirt/aclservice/utils/StatefulAclServiceHelper.java",
        "patchSetId": 16
      },
      "lineNbr": 25,
      "author": {
        "id": 4269
      },
      "writtenOn": "2017-12-13T12:40:05Z",
      "side": 1,
      "message": "Can we use the AclUtil class? do we need an extra class?",
      "revId": "10a86b4f667a4c30cb7d18de0714838305a3b3df",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5581e585_a4831d43",
        "filename": "vpnservice/aclservice/impl/src/main/java/org/opendaylight/netvirt/aclservice/utils/StatefulAclServiceHelper.java",
        "patchSetId": 16
      },
      "lineNbr": 25,
      "author": {
        "id": 7876
      },
      "writtenOn": "2019-08-26T20:33:32Z",
      "side": 1,
      "message": "As these methods belongs to only for stateful mode, i have created a new Util class.",
      "parentUuid": "c744e0a6_cf4ce904",
      "revId": "10a86b4f667a4c30cb7d18de0714838305a3b3df",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b2e84e49_7ac7d5a9",
        "filename": "vpnservice/aclservice/impl/src/test/java/org/opendaylight/netvirt/aclservice/tests/FlowEntryObjectsBase.xtend",
        "patchSetId": 16
      },
      "lineNbr": 1660,
      "author": {
        "id": 4269
      },
      "writtenOn": "2017-12-13T12:40:05Z",
      "side": 1,
      "message": "Would be good to change this to Nwconstants.",
      "revId": "10a86b4f667a4c30cb7d18de0714838305a3b3df",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f581aaaf_e14a99d0",
        "filename": "vpnservice/aclservice/impl/src/test/java/org/opendaylight/netvirt/aclservice/tests/FlowEntryObjectsBase.xtend",
        "patchSetId": 16
      },
      "lineNbr": 1660,
      "author": {
        "id": 7876
      },
      "writtenOn": "2019-08-26T20:33:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b2e84e49_7ac7d5a9",
      "revId": "10a86b4f667a4c30cb7d18de0714838305a3b3df",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    }
  ]
}