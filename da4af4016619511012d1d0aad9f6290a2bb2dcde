{
  "comments": [
    {
      "key": {
        "uuid": "ba1f61a0_8db7e139",
        "filename": "vpnservice/aclservice/impl/src/main/java/org/opendaylight/netvirt/aclservice/listeners/AclInterfaceStateListener.java",
        "patchSetId": 6
      },
      "lineNbr": 122,
      "author": {
        "id": 4269
      },
      "writtenOn": "2017-08-31T07:08:02Z",
      "side": 1,
      "message": "Do we require this extra check? isOfInterest already check for this and that value is populated from config DS. Do this address any corner case?",
      "revId": "da4af4016619511012d1d0aad9f6290a2bb2dcde",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba1f61a0_edf65df8",
        "filename": "vpnservice/aclservice/impl/src/main/java/org/opendaylight/netvirt/aclservice/listeners/AclInterfaceStateListener.java",
        "patchSetId": 6
      },
      "lineNbr": 122,
      "author": {
        "id": 5492
      },
      "writtenOn": "2017-08-31T07:26:20Z",
      "side": 1,
      "message": "That check is redeundant because before that we create the ACLInterface in the ACL cache, which is what we wanted to avoid.",
      "parentUuid": "ba1f61a0_8db7e139",
      "revId": "da4af4016619511012d1d0aad9f6290a2bb2dcde",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba1f61a0_cd60b9a7",
        "filename": "vpnservice/aclservice/impl/src/main/java/org/opendaylight/netvirt/aclservice/listeners/AclInterfaceStateListener.java",
        "patchSetId": 6
      },
      "lineNbr": 122,
      "author": {
        "id": 4269
      },
      "writtenOn": "2017-08-31T07:49:28Z",
      "side": 1,
      "message": "Oh ok got it. But if a port which had initially port security disabled will fail to populate the info from interface state (AclInterface relay on both interface config and state listeners to fill the attributes required) and when port security enabled later we will lack those info.\n\nDo you think populating the aclinterface do any harm? We should be always checking the isPortsecurityenabled before programming aclservice rules. We missed that in some part of the code like the one you fixed in AclVpnChangeListener.",
      "parentUuid": "ba1f61a0_edf65df8",
      "revId": "da4af4016619511012d1d0aad9f6290a2bb2dcde",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba1f61a0_8d18811f",
        "filename": "vpnservice/aclservice/impl/src/main/java/org/opendaylight/netvirt/aclservice/listeners/AclInterfaceStateListener.java",
        "patchSetId": 6
      },
      "lineNbr": 122,
      "author": {
        "id": 5492
      },
      "writtenOn": "2017-08-31T08:46:34Z",
      "side": 1,
      "message": "Creating an ACLInterface for a non-neutron port creates harm since bindservice and unbindservice invocations from aclvpnchangelistener directly attempt to bind/unbind acl towards such interfaces which should not happen.\n\nIn this fix here, we have attempted to avoid accidentally creating ACLInterface for those interfaces that are not: \na. Neutron ports.\nb. Neutron ports but port-security-disabled.\n\nCan you please elaborate if this fix breaks anything?",
      "parentUuid": "ba1f61a0_cd60b9a7",
      "revId": "da4af4016619511012d1d0aad9f6290a2bb2dcde",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba1f61a0_1fa4b406",
        "filename": "vpnservice/aclservice/impl/src/main/java/org/opendaylight/netvirt/aclservice/listeners/AclInterfaceStateListener.java",
        "patchSetId": 6
      },
      "lineNbr": 122,
      "author": {
        "id": 4269
      },
      "writtenOn": "2017-08-31T12:05:28Z",
      "side": 1,
      "message": "I was worried that this could break scenario where a neutron port is created with SG disabled and was later enabled. We will not have the sufficient info to program the acl rules in aclinterface.\n\nThe null check here looks safe as this ensure that there is a neutron port and I think we should not have case where the port is created in operational first and config later. My concern is about the portsecurity enabled check\n\nIdeally port will have the isportsecurity enabled only if there is a neutron port corresponding to it. Otherwise this will value will be null hence we should not end up in calling bind if are checking for isPortSecurity enabled for non neutron ports.",
      "parentUuid": "ba1f61a0_8d18811f",
      "revId": "da4af4016619511012d1d0aad9f6290a2bb2dcde",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba1f61a0_bf0be88c",
        "filename": "vpnservice/aclservice/impl/src/main/java/org/opendaylight/netvirt/aclservice/listeners/AclInterfaceStateListener.java",
        "patchSetId": 6
      },
      "lineNbr": 122,
      "author": {
        "id": 5492
      },
      "writtenOn": "2017-08-31T14:42:01Z",
      "side": 1,
      "message": "Thanks...  Can I just then remove the aclInPort.isPortSecurityEnabled() check?",
      "parentUuid": "ba1f61a0_1fa4b406",
      "revId": "da4af4016619511012d1d0aad9f6290a2bb2dcde",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    }
  ]
}