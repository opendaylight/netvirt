{
  "comments": [
    {
      "key": {
        "uuid": "9a245df4_b73d8bc6",
        "filename": "vpnservice/neutronvpn/neutronvpn-impl/src/main/java/org/opendaylight/netvirt/neutronvpn/NeutronvpnManager.java",
        "patchSetId": 132
      },
      "lineNbr": 1584,
      "author": {
        "id": 5871
      },
      "writtenOn": "2017-11-21T15:28:44Z",
      "side": 1,
      "message": "is it required to call twice? Should you not just update the new vpnName in the vpnNames list of vpnInterface and then the update for vpnInterface should trigger the vpn engine for the newly added vpnName ?",
      "range": {
        "startLine": 1579,
        "startChar": 27,
        "endLine": 1584,
        "endChar": 29
      },
      "revId": "3e5183153d3c10cf90ff9cf6afd3c15c0f670c66",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_d4663829",
        "filename": "vpnservice/neutronvpn/neutronvpn-impl/src/main/java/org/opendaylight/netvirt/neutronvpn/NeutronvpnManager.java",
        "patchSetId": 132
      },
      "lineNbr": 1584,
      "author": {
        "id": 6574
      },
      "writtenOn": "2017-11-22T12:47:38Z",
      "side": 1,
      "message": "this is an optimisation that could be considered.\nhowever it works like that.\nWould you agree to optimise it on a separate review ?",
      "parentUuid": "9a245df4_b73d8bc6",
      "range": {
        "startLine": 1579,
        "startChar": 27,
        "endLine": 1584,
        "endChar": 29
      },
      "revId": "3e5183153d3c10cf90ff9cf6afd3c15c0f670c66",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_c077929e",
        "filename": "vpnservice/neutronvpn/neutronvpn-impl/src/main/java/org/opendaylight/netvirt/neutronvpn/NeutronvpnManager.java",
        "patchSetId": 132
      },
      "lineNbr": 1584,
      "author": {
        "id": 5871
      },
      "writtenOn": "2017-11-23T08:33:33Z",
      "side": 1,
      "message": "Yeah. you can make it as a separate review. Your separate review will just need to refine the updateVpnInterfaceWithAdjacencies, such that it will now be two methods, one that will actually update the adjacencies, and the other that will just update the vpn instance names for the vpn interface",
      "parentUuid": "9a245df4_b73d8bc6",
      "range": {
        "startLine": 1579,
        "startChar": 27,
        "endLine": 1584,
        "endChar": 29
      },
      "revId": "3e5183153d3c10cf90ff9cf6afd3c15c0f670c66",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_37519b0f",
        "filename": "vpnservice/neutronvpn/neutronvpn-impl/src/main/java/org/opendaylight/netvirt/neutronvpn/NeutronvpnManager.java",
        "patchSetId": 132
      },
      "lineNbr": 1615,
      "author": {
        "id": 5871
      },
      "writtenOn": "2017-11-21T15:45:30Z",
      "side": 1,
      "message": "move this before if(internetvpnId !\u003d null) and use the non null internetvpnid",
      "range": {
        "startLine": 1615,
        "startChar": 8,
        "endLine": 1615,
        "endChar": 60
      },
      "revId": "3e5183153d3c10cf90ff9cf6afd3c15c0f670c66",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_94a96026",
        "filename": "vpnservice/neutronvpn/neutronvpn-impl/src/main/java/org/opendaylight/netvirt/neutronvpn/NeutronvpnManager.java",
        "patchSetId": 132
      },
      "lineNbr": 1615,
      "author": {
        "id": 6574
      },
      "writtenOn": "2017-11-22T12:47:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9a245df4_37519b0f",
      "range": {
        "startLine": 1615,
        "startChar": 8,
        "endLine": 1615,
        "endChar": 60
      },
      "revId": "3e5183153d3c10cf90ff9cf6afd3c15c0f670c66",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_175457fd",
        "filename": "vpnservice/neutronvpn/neutronvpn-impl/src/main/java/org/opendaylight/netvirt/neutronvpn/NeutronvpnManager.java",
        "patchSetId": 132
      },
      "lineNbr": 1625,
      "author": {
        "id": 5871
      },
      "writtenOn": "2017-11-21T15:45:30Z",
      "side": 1,
      "message": "equals",
      "range": {
        "startLine": 1625,
        "startChar": 40,
        "endLine": 1625,
        "endChar": 47
      },
      "revId": "3e5183153d3c10cf90ff9cf6afd3c15c0f670c66",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_d415989c",
        "filename": "vpnservice/neutronvpn/neutronvpn-impl/src/main/java/org/opendaylight/netvirt/neutronvpn/NeutronvpnManager.java",
        "patchSetId": 132
      },
      "lineNbr": 1625,
      "author": {
        "id": 6574
      },
      "writtenOn": "2017-11-22T12:47:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9a245df4_175457fd",
      "range": {
        "startLine": 1625,
        "startChar": 40,
        "endLine": 1625,
        "endChar": 47
      },
      "revId": "3e5183153d3c10cf90ff9cf6afd3c15c0f670c66",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_77579302",
        "filename": "vpnservice/neutronvpn/neutronvpn-impl/src/main/java/org/opendaylight/netvirt/neutronvpn/NeutronvpnManager.java",
        "patchSetId": 132
      },
      "lineNbr": 1649,
      "author": {
        "id": 5871
      },
      "writtenOn": "2017-11-21T15:45:30Z",
      "side": 1,
      "message": "should be a precondition at the start of the method",
      "range": {
        "startLine": 1649,
        "startChar": 28,
        "endLine": 1649,
        "endChar": 70
      },
      "revId": "3e5183153d3c10cf90ff9cf6afd3c15c0f670c66",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_14b6108a",
        "filename": "vpnservice/neutronvpn/neutronvpn-impl/src/main/java/org/opendaylight/netvirt/neutronvpn/NeutronvpnManager.java",
        "patchSetId": 132
      },
      "lineNbr": 1649,
      "author": {
        "id": 6574
      },
      "writtenOn": "2017-11-22T12:47:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9a245df4_77579302",
      "range": {
        "startLine": 1649,
        "startChar": 28,
        "endLine": 1649,
        "endChar": 70
      },
      "revId": "3e5183153d3c10cf90ff9cf6afd3c15c0f670c66",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_d7459f43",
        "filename": "vpnservice/neutronvpn/neutronvpn-impl/src/main/java/org/opendaylight/netvirt/neutronvpn/NeutronvpnManager.java",
        "patchSetId": 132
      },
      "lineNbr": 2203,
      "author": {
        "id": 5871
      },
      "writtenOn": "2017-11-21T15:45:30Z",
      "side": 1,
      "message": "retain original code",
      "range": {
        "startLine": 2202,
        "startChar": 12,
        "endLine": 2203,
        "endChar": 64
      },
      "revId": "3e5183153d3c10cf90ff9cf6afd3c15c0f670c66",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_b4c2a4e6",
        "filename": "vpnservice/neutronvpn/neutronvpn-impl/src/main/java/org/opendaylight/netvirt/neutronvpn/NeutronvpnManager.java",
        "patchSetId": 132
      },
      "lineNbr": 2203,
      "author": {
        "id": 6574
      },
      "writtenOn": "2017-11-22T12:47:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9a245df4_d7459f43",
      "range": {
        "startLine": 2202,
        "startChar": 12,
        "endLine": 2203,
        "endChar": 64
      },
      "revId": "3e5183153d3c10cf90ff9cf6afd3c15c0f670c66",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_177bb78c",
        "filename": "vpnservice/neutronvpn/neutronvpn-impl/src/main/java/org/opendaylight/netvirt/neutronvpn/NeutronvpnManager.java",
        "patchSetId": 132
      },
      "lineNbr": 2231,
      "author": {
        "id": 5871
      },
      "writtenOn": "2017-11-21T15:45:30Z",
      "side": 1,
      "message": "I think these changes are not required. This code only handles creation of internal vpn for a router, and there will not be any internet association at that point of time",
      "range": {
        "startLine": 2222,
        "startChar": 8,
        "endLine": 2231,
        "endChar": 13
      },
      "revId": "3e5183153d3c10cf90ff9cf6afd3c15c0f670c66",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_748dccd2",
        "filename": "vpnservice/neutronvpn/neutronvpn-impl/src/main/java/org/opendaylight/netvirt/neutronvpn/NeutronvpnManager.java",
        "patchSetId": 132
      },
      "lineNbr": 2231,
      "author": {
        "id": 6574
      },
      "writtenOn": "2017-11-22T12:47:38Z",
      "side": 1,
      "message": "Indeed, maybe you are right.\n\nYou mean we go there only when command: neutron router-create \u003crouter1\u003e happens ?\n\nIf this is it, then it is not possible at this point that an external network is attached, and then no BGPVPN attached to the external network will be present.\nso line 2222 will return always NULL.\n\nplease ack the undersanding.",
      "parentUuid": "9a245df4_177bb78c",
      "range": {
        "startLine": 2222,
        "startChar": 8,
        "endLine": 2231,
        "endChar": 13
      },
      "revId": "3e5183153d3c10cf90ff9cf6afd3c15c0f670c66",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_a07a5e85",
        "filename": "vpnservice/neutronvpn/neutronvpn-impl/src/main/java/org/opendaylight/netvirt/neutronvpn/NeutronvpnManager.java",
        "patchSetId": 132
      },
      "lineNbr": 2231,
      "author": {
        "id": 5871
      },
      "writtenOn": "2017-11-23T08:33:33Z",
      "side": 1,
      "message": "Yes. your explaination is right",
      "parentUuid": "9a245df4_748dccd2",
      "range": {
        "startLine": 2222,
        "startChar": 8,
        "endLine": 2231,
        "endChar": 13
      },
      "revId": "3e5183153d3c10cf90ff9cf6afd3c15c0f670c66",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_17a297fc",
        "filename": "vpnservice/neutronvpn/neutronvpn-impl/src/main/java/org/opendaylight/netvirt/neutronvpn/NeutronvpnManager.java",
        "patchSetId": 132
      },
      "lineNbr": 2361,
      "author": {
        "id": 5871
      },
      "writtenOn": "2017-11-21T15:45:30Z",
      "side": 1,
      "message": "I think this is already done in lines 2317-2325",
      "range": {
        "startLine": 2344,
        "startChar": 24,
        "endLine": 2361,
        "endChar": 25
      },
      "revId": "3e5183153d3c10cf90ff9cf6afd3c15c0f670c66",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_f4a1bc46",
        "filename": "vpnservice/neutronvpn/neutronvpn-impl/src/main/java/org/opendaylight/netvirt/neutronvpn/NeutronvpnManager.java",
        "patchSetId": 132
      },
      "lineNbr": 2361,
      "author": {
        "id": 6574
      },
      "writtenOn": "2017-11-22T12:47:38Z",
      "side": 1,
      "message": "it must be done for:\n- underlying subnets \u003d\u003e BGPVPN external \n- if that network is external, apply to subnets from router from external network.\nI think it must be kept like that.",
      "parentUuid": "9a245df4_17a297fc",
      "range": {
        "startLine": 2344,
        "startChar": 24,
        "endLine": 2361,
        "endChar": 25
      },
      "revId": "3e5183153d3c10cf90ff9cf6afd3c15c0f670c66",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_a0325ea4",
        "filename": "vpnservice/neutronvpn/neutronvpn-impl/src/main/java/org/opendaylight/netvirt/neutronvpn/NeutronvpnManager.java",
        "patchSetId": 132
      },
      "lineNbr": 2361,
      "author": {
        "id": 5871
      },
      "writtenOn": "2017-11-23T08:33:33Z",
      "side": 1,
      "message": "Okay.\nI get that it needs to be done for all the subnets, part of the router, that is connected to a bgpvpn_internet through an external network.\nBut, is necessary to updateVpnInstanceWithIpFamily() for a subnet that is part of the external network? (lines 2317-2324).\nIf this is not required, then please remove it.\nMy reasoning is that, in this ipv6 internet spec, the external network only exists to enable internet capability through the bgpvpn_internet. THis subnet that belongs to the external network should not be used to determine the ipv4/v6 configuration of a bgpvpn_internet.",
      "parentUuid": "9a245df4_f4a1bc46",
      "range": {
        "startLine": 2344,
        "startChar": 24,
        "endLine": 2361,
        "endChar": 25
      },
      "revId": "3e5183153d3c10cf90ff9cf6afd3c15c0f670c66",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_2024ae0b",
        "filename": "vpnservice/neutronvpn/neutronvpn-impl/src/main/java/org/opendaylight/netvirt/neutronvpn/NeutronvpnManager.java",
        "patchSetId": 132
      },
      "lineNbr": 2361,
      "author": {
        "id": 6574
      },
      "writtenOn": "2017-11-23T10:21:58Z",
      "side": 1,
      "message": "Indeed, I think there has been a hole in the specification.\nThis is regarding the current usage of external network and BGPVPN.\nI think that you can use it for floating IPs ( IPv4).\nIn that case, as it is the same way I configure BGPVPN internet for IPv6, then I assume that BGPVPN would benefit for both.\nThat implies that what we call BGPVPN internet would also benefit to external ipv4 subnets. and what we call \"IPv6 Internet\" can include IPv4.\n\nMaybe , I should add some informationa bout that in the ipv6 Internet specification document.",
      "parentUuid": "9a245df4_a0325ea4",
      "range": {
        "startLine": 2344,
        "startChar": 24,
        "endLine": 2361,
        "endChar": 25
      },
      "revId": "3e5183153d3c10cf90ff9cf6afd3c15c0f670c66",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_a67a7685",
        "filename": "vpnservice/neutronvpn/neutronvpn-impl/src/main/java/org/opendaylight/netvirt/neutronvpn/NeutronvpnManager.java",
        "patchSetId": 132
      },
      "lineNbr": 2361,
      "author": {
        "id": 5871
      },
      "writtenOn": "2017-11-23T15:53:40Z",
      "side": 1,
      "message": "Please feel free to propose this in the IS spec. \nAlso, I think the current IS document for v6 internet, describes mostly a way for internet access using iRT/eRT for bgpvpns.\nCould you also please modify that, to mention to corresponding to the current implementation?",
      "parentUuid": "9a245df4_2024ae0b",
      "range": {
        "startLine": 2344,
        "startChar": 24,
        "endLine": 2361,
        "endChar": 25
      },
      "revId": "3e5183153d3c10cf90ff9cf6afd3c15c0f670c66",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_b7b2ab49",
        "filename": "vpnservice/neutronvpn/neutronvpn-impl/src/main/java/org/opendaylight/netvirt/neutronvpn/NeutronvpnManager.java",
        "patchSetId": 132
      },
      "lineNbr": 2363,
      "author": {
        "id": 5871
      },
      "writtenOn": "2017-11-21T15:45:30Z",
      "side": 1,
      "message": "associate networks is not a valid/supported usecase for ipv6. So these changes are not required.\nOnly router-association should be handled for ipv6",
      "range": {
        "startLine": 2316,
        "startChar": 36,
        "endLine": 2363,
        "endChar": 49
      },
      "revId": "3e5183153d3c10cf90ff9cf6afd3c15c0f670c66",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_3487d4b6",
        "filename": "vpnservice/neutronvpn/neutronvpn-impl/src/main/java/org/opendaylight/netvirt/neutronvpn/NeutronvpnManager.java",
        "patchSetId": 132
      },
      "lineNbr": 2363,
      "author": {
        "id": 6574
      },
      "writtenOn": "2017-11-22T12:47:38Z",
      "side": 1,
      "message": "for ipv6 Internet L3VPn, this is a valid use case.\nthis review is for ipv6 Internet L3VPN.\n\nplease look at the use case described here:\nhttps://git.opendaylight.org/gerrit/#/c/54050/31/docs/specs/ipv6-l3vpn-internet.rst@267",
      "parentUuid": "9a245df4_b7b2ab49",
      "range": {
        "startLine": 2316,
        "startChar": 36,
        "endLine": 2363,
        "endChar": 49
      },
      "revId": "3e5183153d3c10cf90ff9cf6afd3c15c0f670c66",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_97ade7eb",
        "filename": "vpnservice/neutronvpn/neutronvpn-impl/src/main/java/org/opendaylight/netvirt/neutronvpn/NeutronvpnManager.java",
        "patchSetId": 132
      },
      "lineNbr": 2439,
      "author": {
        "id": 5871
      },
      "writtenOn": "2017-11-21T15:45:30Z",
      "side": 1,
      "message": "associate networks is not a valid/supported usecase for ipv6. So these changes are not required.\nOnly router-association should be handled for ipv6",
      "range": {
        "startLine": 2393,
        "startChar": 15,
        "endLine": 2439,
        "endChar": 53
      },
      "revId": "3e5183153d3c10cf90ff9cf6afd3c15c0f670c66",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_949200f4",
        "filename": "vpnservice/neutronvpn/neutronvpn-impl/src/main/java/org/opendaylight/netvirt/neutronvpn/NeutronvpnManager.java",
        "patchSetId": 132
      },
      "lineNbr": 2439,
      "author": {
        "id": 6574
      },
      "writtenOn": "2017-11-22T12:47:38Z",
      "side": 1,
      "message": "same comment pas previously",
      "parentUuid": "9a245df4_97ade7eb",
      "range": {
        "startLine": 2393,
        "startChar": 15,
        "endLine": 2439,
        "endChar": 53
      },
      "revId": "3e5183153d3c10cf90ff9cf6afd3c15c0f670c66",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    }
  ]
}