{
  "comments": [
    {
      "key": {
        "uuid": "9a245df4_b912b906",
        "filename": "docs/specs/coe-integration.rst",
        "patchSetId": 4
      },
      "lineNbr": 142,
      "author": {
        "id": 4013
      },
      "writtenOn": "2017-11-15T16:25:25Z",
      "side": 1,
      "message": "this is not quit right. the CNI will create a tap port with the Pod network NS and the ovs bridge. we cannot set the pod uuid as external-id cause at the CNI level we have the container-id not the Pod uuid. One more thing the CNI is doing, For each Node subnet the CNI create the default gw-port for the subnet and set it with the proper IP-address.",
      "range": {
        "startLine": 141,
        "startChar": 3,
        "endLine": 142,
        "endChar": 23
      },
      "revId": "2303e14841618a01be80e1b2f8a1574751a5f292",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_992ed541",
        "filename": "docs/specs/coe-integration.rst",
        "patchSetId": 4
      },
      "lineNbr": 142,
      "author": {
        "id": 817
      },
      "writtenOn": "2017-11-15T16:33:25Z",
      "side": 1,
      "message": "Mohamed, there is a catch here, if POD uuid does not come in external-id from southbound, interface-state in genius will not get populated, and that might be exactly why you are seeing ARP not working. How do we solve this then?",
      "parentUuid": "9a245df4_b912b906",
      "range": {
        "startLine": 141,
        "startChar": 3,
        "endLine": 142,
        "endChar": 23
      },
      "revId": "2303e14841618a01be80e1b2f8a1574751a5f292",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_59abbd74",
        "filename": "docs/specs/coe-integration.rst",
        "patchSetId": 4
      },
      "lineNbr": 142,
      "author": {
        "id": 4013
      },
      "writtenOn": "2017-11-15T17:17:44Z",
      "side": 1,
      "message": "okay, so the trick here. when the pod is created it send a favour ARP request to subent gw. AS we already have the Pod IP-Address in mdsal we suppose to be able to relate the port that send the ARP request with the Pod. This why  we need to program the gw port to forward the traffic to ODL.",
      "parentUuid": "9a245df4_992ed541",
      "range": {
        "startLine": 141,
        "startChar": 3,
        "endLine": 142,
        "endChar": 23
      },
      "revId": "2303e14841618a01be80e1b2f8a1574751a5f292",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a245df4_f97551cb",
        "filename": "docs/specs/coe-integration.rst",
        "patchSetId": 4
      },
      "lineNbr": 142,
      "author": {
        "id": 4013
      },
      "writtenOn": "2017-11-15T18:05:22Z",
      "side": 1,
      "message": "Well, the issue is I don\u0027t have the Pod uuid info at the CNI level. check [0,1] initially I was thinking that the container-id will be equivalent or related to the Pod uuid but nop, this is not the case. \nNow the port external-id field has the container-id but there is no relation between the pod uuid \u0026 container-id.  \n\n\n[0] https://github.com/opendaylight/coe/blob/master/odlCNIPlugin/odlovs-cni/ovs_odl.go#L86\n[1] https://github.com/opendaylight/coe/blob/master/odlCNIPlugin/odlovs-cni/ovs_driver.go#L257",
      "parentUuid": "9a245df4_59abbd74",
      "range": {
        "startLine": 141,
        "startChar": 3,
        "endLine": 142,
        "endChar": 23
      },
      "revId": "2303e14841618a01be80e1b2f8a1574751a5f292",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    }
  ]
}