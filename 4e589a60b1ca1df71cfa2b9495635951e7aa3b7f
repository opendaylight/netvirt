{
  "comments": [
    {
      "key": {
        "uuid": "1a622d24_4cccbe6a",
        "filename": "vpnservice/elanmanager/elanmanager-impl/src/main/java/org/opendaylight/netvirt/elan/internal/ElanBridgeManager.java",
        "patchSetId": 1
      },
      "lineNbr": 224,
      "author": {
        "id": 670
      },
      "writtenOn": "2017-01-08T12:03:27Z",
      "side": 1,
      "message": "Just double checking - this would mean we are willing to work with a bridge that does not exist in the configuration DS - are we sure no current code relies on this?\n\nThis also means that we won\u0027t do addBridge on this bridge - meaning we will NOT correct various values such as the datapathType etc.\nPreviously we would always re-create br-int with the correct parameters, meaning even if a br-int existed from a previous run, we would correct it to be configured with the correct values.",
      "revId": "4e589a60b1ca1df71cfa2b9495635951e7aa3b7f",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a622d24_6cbffaaa",
        "filename": "vpnservice/elanmanager/elanmanager-impl/src/main/java/org/opendaylight/netvirt/elan/internal/ElanBridgeManager.java",
        "patchSetId": 1
      },
      "lineNbr": 224,
      "author": {
        "id": 5357
      },
      "writtenOn": "2017-01-08T12:15:36Z",
      "side": 1,
      "message": "As I understand things this is acceptable. If there is already a br-int it means that the user has taken responsibility for datapath-type, etc.\n\nAnother gotcha here may be the following. I\u0027m wondering if it\u0027s possible for this code to write to the config and then before the operational is updated to get invoked for some other update and then create the bridge again. This should not be a big deal and really should not break anything but I think it is possible.",
      "parentUuid": "1a622d24_4cccbe6a",
      "revId": "4e589a60b1ca1df71cfa2b9495635951e7aa3b7f",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a622d24_2c250209",
        "filename": "vpnservice/elanmanager/elanmanager-impl/src/main/java/org/opendaylight/netvirt/elan/internal/ElanBridgeManager.java",
        "patchSetId": 1
      },
      "lineNbr": 224,
      "author": {
        "id": 670
      },
      "writtenOn": "2017-01-08T12:49:39Z",
      "side": 1,
      "message": "I\u0027m mostly worried about this change in behavior:\n\na. br-int is created by ODL with some flags\nb. ODL dies, yadda yadda\nc. ODL returns, OVS connects to ODL, but no code is triggered since the br-int was already \"configured by user\"\n\nNow (b) might include upgrading of ODL, datastore changes etc.\nNot sure if this is actually interesting but it seems like a potential behavior change that we wouldn\u0027t necessarily want just for this fix Vishal wanted?",
      "parentUuid": "1a622d24_6cbffaaa",
      "revId": "4e589a60b1ca1df71cfa2b9495635951e7aa3b7f",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a622d24_4c567e5d",
        "filename": "vpnservice/elanmanager/elanmanager-impl/src/main/java/org/opendaylight/netvirt/elan/internal/ElanBridgeManager.java",
        "patchSetId": 1
      },
      "lineNbr": 224,
      "author": {
        "id": 5357
      },
      "writtenOn": "2017-01-08T13:15:38Z",
      "side": 1,
      "message": "OK, now I understand and you are %100 right. Here\u0027s a scenario - someone added a provider network. We need that bridge in config so we can add the provider network (see the method processNodePrep). I think the correct fix here is not to switch the || to an \u0026\u0026 but perhaps, if the br-int exists already to make sure that it is \"copied\" to config with the same dpnid.",
      "parentUuid": "1a622d24_2c250209",
      "revId": "4e589a60b1ca1df71cfa2b9495635951e7aa3b7f",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    }
  ]
}