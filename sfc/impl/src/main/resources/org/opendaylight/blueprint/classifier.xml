<?xml version="1.0" encoding="UTF-8"?>
<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0"
  xmlns:odl="http://opendaylight.org/xmlns/blueprint/v1.0.0"
  odl:use-default-for-reference-types="true">

  <reference id="dataBroker"
    interface="org.opendaylight.controller.md.sal.binding.api.DataBroker" />

  <reference id="mdsalUtils"
    interface="org.opendaylight.genius.mdsalutil.MDSALUtil" />

  <bean id="geniusProvider"
    class="org.opendaylight.netvirt.sfc.providers.GeniusProvider"
    destroy-method="close">
    <argument ref="dataBroker" />
    <argument ref="mdsalUtils" />
  </bean>
  <bean id="netvirtProvider"
    class="org.opendaylight.netvirt.sfc.providers.NetvirtProvider"
    destroy-method="close">
    <argument ref="dataBroker" />
    <argument ref="mdsalUtils" />
  </bean>
  <bean id="openFlow13Provider"
    class="org.opendaylight.netvirt.sfc.providers.OpenFlow13Provider"
    destroy-method="close">
    <argument ref="dataBroker" />
    <argument ref="mdsalUtils" />
  </bean>
  <bean id="sfcProvider"
    class="org.opendaylight.netvirt.sfc.providers.SfcProvider"
    destroy-method="close">
    <argument ref="dataBroker" />
    <argument ref="mdsalUtils" />
  </bean>

  <bean id="netvirtSfcAclDataProcessor"
    class="org.opendaylight.netvirt.sfc.processors.netvirtSfcAclDataProcessor"
    destroy-method="close">
    <argument ref="geniusProvider" />
    <argument ref="netvirtProvider" />
    <argument ref="openFlow13Provider" />
    <argument ref="sfcProvider" />
  </bean>
  <bean id="netvirtSfcClassifierDataProcessor"
    class="org.opendaylight.netvirt.sfc.processors.netvirtSfcAclDataProcessor"
    destroy-method="close">
    <argument ref="geniusProvider" />
    <argument ref="netvirtProvider" />
    <argument ref="openFlow13Provider" />
    <argument ref="sfcProvider" />
  </bean>
  <bean id="netvirtSfcRspDataProcessor"
    class="org.opendaylight.netvirt.sfc.processors.netvirtSfcAclDataProcessor"
    destroy-method="close">
    <argument ref="geniusProvider" />
    <argument ref="netvirtProvider" />
    <argument ref="openFlow13Provider" />
    <argument ref="sfcProvider" />
  </bean>

  <bean id="netvirtSfcAclListener"
    class="org.opendaylight.netvirt.sfc.listeners.netvirtSfcAclListener"
    init-method="start" destroy-method="close">
    <argument ref="dataBroker" />
    <argument ref="netvirtSfcAclDataProcessor" />
  </bean>
  <bean id="netvirtSfcClassifierListener"
    class="org.opendaylight.netvirt.sfc.listeners.netvirtSfcClassifierListener"
    init-method="start" destroy-method="close">
    <argument ref="dataBroker" />
    <argument ref="netvirtSfcClassifierDataProcessor" />
  </bean>
  <bean id="netvirtSfcRspListener"
    class="org.opendaylight.netvirt.sfc.listeners.netvirtSfcRspListener"
    init-method="start" destroy-method="close">
    <argument ref="dataBroker" />
    <argument ref="netvirtSfcRspDataProcessor" />
  </bean>

</blueprint>
